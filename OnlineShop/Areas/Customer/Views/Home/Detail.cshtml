
@model OnlineShop.Models.Products
@{
    ViewData["Title"] = "Details";

}

@using OnlineShop.Session
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{

    List<Products> products = HttpContextAccessor.HttpContext.Session.Get<List<Products>>("products");
    Products product = null;
    if (products != null)
    {
        product = products.FirstOrDefault(c => c.Id == Model.Id);
    }

}


<br />
<br />


<h2 class="text-info">Product Details</h2>
<form asp-action="Detail" method="post" enctype="multipart/form-data">
    <div class="p-4 rounded border row">
        <div asp-validation-summary="ModelOnly" class="text-danger">
        </div>
        <div class="col-lg-8">
            <div class="form-group row">
                <div class="col-lg-4">
                    <label asp-for="Name"></label>
                </div>
                <div class="col-lg-8">
                    <input type="hidden" asp-for="Id" />
                    <input asp-for="Name" readonly="readonly" class="form-control" />
                </div>
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
            <div class="form-group row">
                <div class="col-lg-4">
                    <label asp-for="Price"></label>
                </div>
                <div class="col-lg-8">
                    <input asp-for="Price" readonly="readonly" class="form-control" />
                </div>
                <span asp-validation-for="Price" class="text-danger"></span>
            </div>
           


            <div class="form-group row">
                <div class="col-lg-4">
                    <label asp-for="ProductColor"></label>
                </div>
                <div class="col-lg-8">
                    <input asp-for="ProductColor" readonly="readonly" readonly="readonly" class="form-control" />
                </div>
                <span asp-validation-for="ProductColor" class="text-danger"></span>
            </div>


            <div class="form-group row">
                <div class="col-lg-4">
                    <label asp-for="ProductTypeId"></label>
                </div>
                <div class="col-lg-8">
                  
                    <input asp-for="ProductTypes.ProductType" readonly="readonly" class="form-control" />
                </div>
                <span asp-validation-for="ProductTypeId" class="text-danger"></span>
            </div>

            <div class="form-group row">
                <div class="col-lg-4">
                </div>
                <div class="col-lg-8">
                    @if (Model.IsAvailable)
                    {
                        @if (product != null)
                        {
                            <button type="submit" class="btn btn-danger form-control" asp-action="Remove" asp-route-id="@Model.Id">Remove to Cart</button>
                        }
                        else
                        {
                            <input type="submit" class="btn btn-info form-control" value="Add to Cart" />
                        }
                    }
                    else
                    {
                        <img src="~/Images/out.jpg" width="100px" height="100px" />
                    }


                </div>

            </div>
            <div class="form-group">
                <a asp-action="Index" class="btn btn-success">Back to List</a>
            </div>
        </div>
        <div class="col-lg-1"></div>
        <div class="col-lg-3">
            <img src="~/@Model.Image" width="100%" height="250px" style="border-radius: 5px;border: 1px solid #efefef" />
            @if (Model.IsAvailable)
            {
                <img src="~/Images/stock.jpeg" width="50px" height="50px" />
            }
            

        </div>

    </div>
</form>


<div class="container my-5">
    <div class="row">
        <div class="col-md-5">
            <div class="main-img">
                <img class="img-fluid" src="~/@Model.Image" alt="ProductS">
                <div class="row my-3 previews">
                    <div class="col-md-3">
                        <img class="w-100" src="~/@Model.Image" alt="Sale">
                    </div>
                    <div class="col-md-3">
                        <img class="w-100" src="~/@Model.Image" alt="Sale">
                    </div>
                    <div class="col-md-3">
                        <img class="w-100" src="~/@Model.Image" alt="Sale">
                    </div>
                    <div class="col-md-3">
                        <img class="w-100" src="~/@Model.Image" alt="Sale">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-7">
            <div class="main-description px-2">
                <div class="category text-bold">
                    Category: @Model.ProductTypes.ToString();
                </div>
                <div class="product-title text-bold my-3">
                   Product Details
                </div>


                <div class="price-area my-4">
                    <p class="old-price mb-1"><del>$@Model.Price +20 </del> <span class="old-price-discount text-danger">(20% off)</span></p>
                    <p class="new-price text-bold mb-1">$@Model.Price</p>
                    <p class="text-secondary mb-1">(Additional tax may apply on checkout)</p>

                </div>


                <div class="buttons d-flex my-5">
                    <div class="block">
                        <a href="#" class="shadow btn custom-btn ">Wishlist</a>
                    </div>
                    <div class="block">
                        <input type="submit" class="btn btn-info form-control" value="Add to Cart" />
                        
                    </div>

                    <div class="block quantity">
                        <input type="number" class="form-control" id="cart_quantity" value="1" min="0" max="5" placeholder="Enter email" name="cart_quantity">
                    </div>
                </div>




            </div>

            <div class="product-details my-4">
                <p class="details-title text-color mb-1">Product Details</p>
                <p class="description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat excepturi odio recusandae aliquid ad impedit autem commodi earum voluptatem laboriosam? </p>
            </div>

            <div class="row questions bg-light p-3">
                <div class="col-md-1 icon">
                    <i class="fa-brands fa-rocketchat questions-icon"></i>
                </div>
                <div class="col-md-11 text">
                    Have a question about our products at E-Store? Feel free to contact our representatives via live chat or email.
                </div>
            </div>

            <div class="delivery my-4">
                <p class="font-weight-bold mb-0"><span><i class="fa-solid fa-truck"></i></span> <b>Delivery done in 3 days from date of purchase</b> </p>
                <p class="text-secondary">Order now to get this product delivery</p>
            </div>
            <div class="delivery-options my-4">
                <p class="font-weight-bold mb-0"><span><i class="fa-solid fa-filter"></i></span> <b>Delivery options</b> </p>
                <p class="text-secondary">View delivery options here</p>
            </div>


        </div>
    </div>
</div>



<div class="container similar-products my-4">
    <hr>
    <p class="display-5">Similar Products</p>

    <div class="row">
        <div class="col-md-3">
            <div class="similar-product">
                <img class="w-100" src="https://source.unsplash.com/gsKdPcIyeGg" alt="Preview">
                <p class="title">Lovely black dress</p>
                <p class="price">$100</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="similar-product">
                <img class="w-100" src="https://source.unsplash.com/sg_gRhbYXhc" alt="Preview">
                <p class="title">Lovely Dress with patterns</p>
                <p class="price">$85</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="similar-product">
                <img class="w-100" src="https://source.unsplash.com/gJZQcirK8aw" alt="Preview">
                <p class="title">Lovely fashion dress</p>
                <p class="price">$200</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="similar-product">
                <img class="w-100" src="https://source.unsplash.com/qbB_Z2pXLEU" alt="Preview">
                <p class="title">Lovely red dress</p>
                <p class="price">$120</p>
            </div>
        </div>
    </div>
</div>



@section Scripts{
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}


